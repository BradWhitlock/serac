.. ## Copyright (c) 2019-2021, Lawrence Livermore National Security, LLC and
.. ## other Serac Project Developers. See the top-level COPYRIGHT file for details.
.. ##
.. ## SPDX-License-Identifier: (BSD-3-Clause)

======================
MFEM/Axom Development Build
======================

Co-Developing with Axom and MFEM
--------------------------------

Occasionally, Serac developers may want to patch fixes and useful features back to MFEM and Axom. A co-development build
environment is available to expedite this process via `git submodules <https://git-scm.com/book/en/v2/Git-Tools-Submodules>`_.

To enable a co-develop workflow, use the following commands from the root serac directory:

.. code-block:: bash

   # Initialize the submodules for MFEM and Axom.
   $ git submodule update --init --recursive

   # Configure our CMake build with the co-develop option using a local host-config (CMake configuration file) generated by spack.
   # This uses CMake to configure Axom, MFEM, and Serac in one step.
   $ ./config-build -hc <host config file> -DSERAC_ENABLE_CODEVELOP=On

   # Build MFEM, Axom, and Serac
   $ cd <generated build directory>
   $ make -j
